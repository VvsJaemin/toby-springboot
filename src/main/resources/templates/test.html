<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<body>
<select id="large" onchange="test('middle', this.value, '2')">
    <option value="" id="large2">
        선택
    </option>
</select>
<select id="middle" onchange="test('small', this.value,'3')">
    <option value="" id="middle2">
        선택
    </option>
</select>
<select id="small" onchange="test('', this.value, '')">
    <option value="" id="small2">
        선택
    </option>
</select>
<script>
    var array = [
        {"name": "국산", "code": "00", "level": "1"},
        {"name": "울산광역시", "code": "0010", "level": "2"},
        {"name": "광주광역시", "code": "0011", "level": "2"},
        {"name": "부산광역시", "code": "0012", "level": "2"},
        {"name": "대구광역시", "code": "0013", "level": "2"},
        {"name": "서울특별시", "code": "0014", "level": "2"},
        {"name": "동구", "code": "0010170", "level": "3"},
        {"name": "동구1", "code": "0010171", "level": "3"},
        {"name": "동구2", "code": "0010172", "level": "3"},
        {"name": "동구3", "code": "0010173", "level": "3"},
        {"name": "동구4", "code": "0010174", "level": "3"},
        {"name": "서구1", "code": "0011175", "level": "3"},
        {"name": "서구2", "code": "0011176", "level": "3"},
        {"name": "서구3", "code": "0011177", "level": "3"},
        {"name": "서구4", "code": "0011178", "level": "3"},
        {"name": "서구5", "code": "0011179", "level": "3"},
        {"name": "수영구1", "code": "0012171", "level": "3"},
        {"name": "수영구2", "code": "0012172", "level": "3"},
        {"name": "수영구3", "code": "0012173", "level": "3"},
        {"name": "수영구4", "code": "0012174", "level": "3"},
        {"name": "수영구5", "code": "0012175", "level": "3"},
        {"name": "달서구1", "code": "0013175", "level": "3"},
        {"name": "달서구2", "code": "0013176", "level": "3"},
        {"name": "달서구3", "code": "0013177", "level": "3"},
        {"name": "달서구4", "code": "0013178", "level": "3"},
        {"name": "달서구5", "code": "0013179", "level": "3"},
        {"name": "중랑구1", "code": "0014171", "level": "3"},
        {"name": "중랑구2", "code": "0014172", "level": "3"},
        {"name": "중랑구3", "code": "0014173", "level": "3"},
        {"name": "중랑구4", "code": "0014174", "level": "3"},
        {"name": "중랑구5", "code": "0014175", "level": "3"},
    ]

    $(document).ready(function () {

        test('large', '', 1)
    })
    //전체 배열에서 국내산, 원양산, 수입산, 기타 index범위 확인
    // 범위 확인 후 국내산 배열 반환

    //  level 0코드는 조건에 value 넣을 지 고민

    // level1 부터 코드 include
    function test(id, value, level) {


        for (let i = 0; i < array.length; i++) {
            let code = array[i].code;
            let level1 = array[i].level;
            let name = array[i].name;

            // level 0, id - large append
            if (id == 'large') {
                if (level1 == 1 && code.length == '2') {
                    $("#" + id).append(`<option value="${code}">${name}</option>`);
                    // console.log(name);
                }
            }
            if (id == 'middle') {
                console.log(id)
                if (level1 ==2 && code.startsWith(value)) {
                    $("#" + id).append(`<option value="${code}">${name}</option>`);
                }
            }
            if (id == 'small') {
                console.log(code)
                console.log(value)
                console.log(level ==level1)
                if (level1==3 && code.startsWith(value)) {
                    $("#" + id).append(`<option value="${code}">${name}</option>`);
                }
            }
        }
    }



</script>
</body>
</html>